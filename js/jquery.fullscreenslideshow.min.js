(function(e){e.fn.fullscreenSlideshow=function(t){function l(t,o){if(n.slideshow){clearInterval(r.data("interval"))}var u=f;s[u].find(".item-content").children().each(function(t){var r=e(this).data("easeinup")||n.easeInUp;var i=e(this).data("easeindown")||n.easeInDown;e(this).removeClass(r+" "+i).stop(true,true).animate({opacity:0},300,function(){e(this).hide()})});var o=o||t.data.dir;var a;if(o=="next"){u++;if(u>s.length-1){u=0}}else{u--;if(u<0){u=s.length-1}}if(i[u]!=""){if(n.container!=null){e(n.container).backstretch(i[u],{fade:750})}else{e.backstretch(i[u],{fade:750})}}var l=0;var c=0;s[u].show().find(".item-content").children().each(function(t){l=t;if(o=="next"){a=e(this).data("easeinup")||n.easeInDown}else{a=e(this).data("easeindown")||n.easeInDown}if(Modernizr.csstransitions){e(this).show().css("opacity",1).addClass(a+" "+"animate"+t).on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(e){c++;if(c>=l){c=0;l=0;if(n.slideshow)h()}})}else{e(this).show().delay(400).stop(true,true).animate({opacity:1},400,function(){c++;if(c>=l){c=0;l=0;if(n.slideshow)h()}})}});f=u}function h(){clearInterval(r.data("interval"));c=setInterval(function(){l(null,"next")},n.slideshowDelay);r.data("interval",c)}var n={container:null,easeInUp:"fadeInLeft",easeInDown:"fadeInRight",showArrow:true,slideshow:true,slideshowDelay:4e3};if(t){e.extend(n,t)}var r=this;var i=[];var s=[];r.on("mouseover",function(e){if(n.slideshow){clearInterval(r.data("interval"))}}).on("mouseleave",function(e){if(n.slideshow)h()});e(window).on("mouseover",function(e){if(o)o.stop(true,true).animate({opacity:1},300)}).on("mouseleave",function(e){if(o)o.delay(400).animate({opacity:0},300)});var o;if(n.showArrow){o=e('<div class="arrowButton"><div class="prevArrow"></div><div class="nextArrow"></div></div>');r.append(o);var u=e(".prevArrow",o).on("click",function(e){l(null,"prev")});var a=e(".nextArrow",o).on("click",function(e){l(null,"next")})}r.find(".item-container").each(function(t){s[t]=e(this);i[t]=e(this).data("bgimage");if(t==0){if(n.container!=null){e(n.container).backstretch(e(this).data("bgimage"))}else{e.backstretch(e(this).data("bgimage"))}e(this).show()}});var f=0;var c;if(n.slideshow)h();return this}})(jQuery)
